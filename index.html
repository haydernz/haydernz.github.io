
<!-- Rel 2007 "Skyline" Example Set -->
<!-- This File Last Changed: 01 July 2008 -->
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"><META HTTP-EQUIV="Expires" CONTENT="-1">
<head>
<title>PROD - EXAMPLE 2</title>
<base target="_self"/>
<link rel="stylesheet" type="text/css" href="/scripts/ProStyles.css" />
<link rel="stylesheet" type="text/css" href="/screens/styles.css" />
<link rel="shortcut icon" type="ximage/icon" href="/screens/favicon.ico" />
<script type="text/javascript" src="/scripts/common.js">
</script>
<script type="text/javascript" src="/scripts/features.js">
</script>
<script type="text/javascript" src="/scripts/webbridge.js">
</script>
<script type="text/javascript" src="/scripts/elcontent.js">
</script>
<script type="text/JavaScript" >
<!-- Hide the JS
    function timeout ( )
    {
    window.location.replace ("http://www.elgar.govt.nz:80/search");  
    return false;
    }
    startTimeout(120000000, "http://www.elgar.govt.nz:80");
// -->
</script>
<div id="TimeoutPopup" tabindex="0" class="modal" onkeypress="refreshSession(event)">
<div class="modal-content">
Your session will expire automatically in <span id=TimeoutSeconds>0</span> seconds.<br>
<br>
<button id="CancelTimeout" onclick="refreshSession()">Continue session</button>
<button id="DoTimeout" onclick="endSession()">End session now</button></div>
</div>
<script type="text/JavaScript" >
<!-- Hide the JS
    history.forward();
    function replaceOrRedraw(new_URL)
    {
    if( navigator.appVersion.charAt (0) < '3' )
    	location = new_URL;
    else
    	location.replace (new_URL);
    return false;
    }
    
    
// Unhide the JS -->
</script>

<meta name="verify-v1" content="0ZAXG+9NxbmLbQAsWL+mQMSjRBt0lR/jLx+zYMH0eDk=" />
</head>
<body>
<!-- Accessibility hidden skip navigation link -->
<a href="#maincontent" accesskey="["><img src="/screens/spacer.gif" align="right" height="1" width="1" border="0" alt="skip navigation. "></a>
<script language="JavaScript" src="/screens/common.js" type="text/JavaScript"></script> 
<A accesskey="0" href="/screens/accesskeys.html"></A>
<!-- begin toplogo.html file -->


<table cellpadding="0" cellspacing="0" border="0" summary="header layout table" width="100%" class="header">
<tr>
<td valign="top" width="400" style="border-left:0px solid #000000; border-top:0px solid #000000;border-bottom:0px solid #000000;" >
	<a href="http://www.aucklandlibraries.govt.nz">
		<img src="/screens/logo_ACL.jpg" hspace="0" alt="Auckland Libraries Home" border="0"></img>
	</a>

	</td>
<td valign="top" width="100%" bgcolor="#ffffff" style="border-top:0px solid #000000;border-bottom:0px solid #000000;" >
<!--	<a href="http://www.aucklandcouncil.govt.nz">
		<img src="/screens/logo_AC.jpg" hspace="0" alt="Auckland Council Home" border="0"></img>
	</a>
-->
</td>
<td valign="top" width="400" style="border-top:0px solid #000000;border-bottom:0px solid #000000;border-right:0px solid #000000;"><img src="/screens/akl_header2.gif" hspace="0"  width="400" height="76" alt=""></td>
</tr>
</table>

<table width=100% border=0 cellspacing=0 cellpadding=0 style="margin-top:10px;border:1px solid #688d01; background-color:#163e58">
<tr>
<td  valign="middle" class="headerLinks">
<!--
<A accesskey="1" href="/search~S1" style="color:#ffffff;">Home</A> &nbsp;|&nbsp;
<A href="/search~S1*mao" style="color:#ffffff;">Te Reo</A>&nbsp;|&nbsp;
<A href="#" onclick="return open_window('http://www.aucklandcitylibraries.com/DigitalLibrary.aspx');" style="color:#ffffff;">Digital Library</A>&nbsp;|&nbsp;
<A href="/screens/cantfindit_s1.html" style="color:#ffffff;">Can't find it?</A>&nbsp;|&nbsp;
<A href="/screens/jointhelibrary_s1.html" style="color:#ffffff;">Join the Library</A>&nbsp;|&nbsp;
<A onclick="return open_general_help_window('/screens/generalhelp.html#top');" href="#" style="color:#ffffff;">Help</A>&nbsp;|&nbsp;
<A accesskey="9" onclick="return open_window('http://www.aucklandlibraries.govt.nz/EN/Pages/ContactUs.aspx');" href="#" style="color:#ffffff;">Contact us</A>&nbsp;|&nbsp;
<A href="http://search.aucklandlibraries.govt.nz/accessible.ashx" style="color:#ffffff;">Text Version</A> 
-->

<!-- BEGIN Encore Header here -->

    <a href="https://discover.elgar.govt.nz/iii/encore/" style="color:#ffffff;">New search</a> &nbsp;|&nbsp;
    <a href="https://www.aucklandlibraries.govt.nz" style="color:#ffffff;">Website home</a> &nbsp;|&nbsp;
    <a href="https://www.aucklandlibraries.govt.nz/Pages/locations-and-hours.aspx" style="color:#ffffff;">Locations &amp; hours</a> &nbsp;|&nbsp;
    <a href="https://www.aucklandlibraries.govt.nz/Pages/history-and-research.aspx" style="color:#ffffff;">History and research</a> &nbsp;|&nbsp;
    <a href="https://www.aucklandlibraries.govt.nz/Pages/new-and-recommended.aspx" style="color:#ffffff;">New &amp; recommended</a>
    

<!-- END Encore Header here -->

</td>
<td width=200 align=right>
<!-- <A href="/patroninfo~S1"><img src="/screens/login.gif" border=0></A> -->
<A href="https://discover.elgar.govt.nz/iii/encore/Sdologin?lang=eng&loginReason=doDefault"><img src="/screens/login.gif" border=0></A>
</td>
</tr>
</table>

<br clear='all' />
<div style="display:none"><img src="/search~s1/" width="1" height="1" alt="Cookie Setter" /> </div>
<br></br>
<!-- end toplogo.html file -->

<!--this is customized <screens/selfreg_patselfrg1_s1.html>-->

<head>
<link rel="stylesheet" type="text/css" href="/scripts/ProStyles.css" />
<link rel="stylesheet" type="text/css" href="/screens/styles.css" />
<script type="text/javascript" src="/scripts/elcontent.js">
</script>
<script type="text/javascript" src="/scripts/common.js">
</script>
<script type="text/javascript" src="/scripts/features.js">
</script>
<script type="text/javascript" src="/scripts/webbridge.js">
</script>

<title>Auckland Libraries - Self Registration</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<link rel="stylesheet" href="/screens/styles.css" type="TEXT/CSS" />
</head>

<!--Begin the main content table-->
<a name="maincontent"></a><span class="pageMainAreaHeader">Self Registration</span>
<hr size="1" color="#EBEBEB" style="margin-top:10px;">
<br>

<table width="90%" border="0" cellspacing="5" cellpadding="0" align="center">
<tr valign="top" class="pageMainArea">
<td bgcolor="#D7E1EE" class="pageMainArea" style="font-size:90%;">


<!-- some form helper javascript -->
<script type="text/javascript">
<!-- hide the Javascript -->

function datechecker() {
var today=new Date();
var thisyear=today.getFullYear()
eighteen_years_ago=thisyear-18;
var dayfield=document.getElementById("date")
var monthfield=document.getElementById("month")
var yearfield=document.getElementById("year")
if (yearfield.value>=eighteen_years_ago) {
showguarantormessage(); 
}
else {
hideguarantormessage(); 
}
}
var monthtext=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
var monthvalues=['01','02','03','04','05','06','07','08','09','10','11','12'];

function date_populate(dayfield, monthfield, yearfield){
    var today=new Date();
var dayfield=document.getElementById(dayfield)
    var monthfield=document.getElementById(monthfield)
    var yearfield=document.getElementById(yearfield)
dayfield.options[0]=new Option("-", "blank")
    for (var i=1; i<32; i++)
        dayfield.options[i]=new Option(i, i)
monthfield.options[0]=new Option("-", "blank")
for (var m=1; m<13; m++)
        monthfield.options[m]=new Option(monthtext[m-1], monthvalues[m-1])
    var thisyear=today.getFullYear()
yearfield.options[0]=new Option("-", "blank")
    for (var y=0; y<103; y++){
        yearfield.options[y+1]=new Option(thisyear, thisyear)
        thisyear-=1
    }

}


var default_colour;

function highlight_formbox(e){
var targ;
if (!e) var e = window.event;
if (e.target) targ = e.target;
else if (e.srcElement) targ = e.srcElement;
if (targ.nodeType == 3) // defeat Safari bug
targ = targ.parentNode;
default_colour=targ.style.border.value;
alert(default_colour);
targ.style.border='2px solid #F2911C';

}
function nohighlight_formbox(e){
var targ;
if (!e) var e = window.event;
if (e.target) targ = e.target;
else if (e.srcElement) targ = e.srcElement;
if (targ.nodeType == 3) // defeat Safari bug
targ = targ.parentNode;
targ.style.border=default_colour;

}
function showstreetaddress() {
var streetaddressform=document.getElementById("StreetAddressHeader");
streetaddressform.style.display = "";
streetaddressform=document.getElementById("StreetAddressStreet");
streetaddressform.style.display = "";
streetaddressform=document.getElementById("StreetAddressSuburb");
streetaddressform.style.display = "";
streetaddressform=document.getElementById("StreetAddressCity");
streetaddressform.style.display = "";
streetaddressform=document.getElementById("StreetAddressPostcode");
streetaddressform.style.display = "";
}

function showguarantormessage() {
var guarantorrow=document.getElementById("GuarantorMessage");
guarantorrow.style.display = "";
}

function hidestreetaddress() {
var streetaddressform=document.getElementById("StreetAddressHeader");
streetaddressform.style.display = "none";
streetaddressform=document.getElementById("StreetAddressStreet");
streetaddressform.style.display = "none";
streetaddressform=document.getElementById("StreetAddressSuburb");
streetaddressform.style.display = "none";
streetaddressform=document.getElementById("StreetAddressCity");
streetaddressform.style.display = "none";
streetaddressform=document.getElementById("StreetAddressPostcode");
streetaddressform.style.display = "none";

}

function hideguarantormessage() {
var guarantorrow=document.getElementById("GuarantorMessage");
guarantorrow.style.display = "none";

}
function makewhite(id) {
var formfield=document.getElementById(id);
if (formfield!=null) {
formfield.style.border="2px solid #CCCCCC"
}
}
function makegreen(id) {
var formfield=document.getElementById(id);
if (formfield!=null) {
formfield.style.border="2px solid #A5CD14"
}
}
// unhide javascript -->
</script>

<!--Beginning main page content-->
<div class="advSrchTool">
<form action="172.19.2.2:443" method="post" class="unpadded" autocomplete="off" onsubmit="return selfRegChecker();">
<!--
The hidden template name below overrides the selfreg_template EO; if certain users need a special template, set this input accordingly when you create the version of selfreg.html for those users.
-->
<!--
<input type="hidden" name="TemplateName" value="YOUR VALUE">
<br />
-->
<span style="font-size:90%;">
This page allows you to register online as a customer of AUCKLAND LIBRARIES.  You will have limited privileges until you visit a library branch to pick up your library card. Personal identification and proof of address will need to be shown at this time.
<br /><br />
Please complete <b>ALL</b> fields correctly before submitting your registration. <font color="red">*</font> indicates required fields.
<br /><br />
If you experience problems while joining please  <a href="#" onclick="return open_window('https://www.aucklandlibraries.govt.nz/pages/contact-us.aspx');">contact us</a>
<br /><br /></span>

<div id="selfRegMessage" style="color:red; font-weight:bold; letter-spacing:1px;">
</div>

<table width="50%" border="0px" cellspacing="1px" cellpadding="10px">
<tr> 
<td width="25%" class="formTitle" align="right">First Name:</td>
<td width="75%"><input name="nfirst" value="" size="20" maxlength="40" id="nfirst" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"><font color="red">*</font></td>
</tr>
<tr>
<td width="25%" class="formTitle" align="right">Middle Name(s):</td>
<td width="75%"><input name="nmiddle" value="" size="20" maxlength="60" id="nmiddle" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>
<tr>
<td width="25%" class="formTitle" align="right">Last / Family Name:</td>
<td width="75%"><input name="nlast" value="" size="20" maxlength="60" id="nlast" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"><font color="red">*</font></td>
</tr>
<tr>
<td class="formTitle" align="right">Gender:</td>
<td>
<select name="F044pcode1">
<option value="n">Please Select ...</option>
<option value="m">Male</option>
<option value="f">Female</option>
<option value="d">Gender Diverse</option>
</select>

</td>
</tr>
<tr> 
<td class="formTitle" align="right">Birth date:</td>
<td valign="top" align="left">
<SELECT id ="date" name = "dd" onchange="datechecker()"></SELECT>
<SELECT id ="month" name = "mm" onchange="datechecker()"></SELECT>
<SELECT id ="year" name = "yyyy" onchange="datechecker()"></SELECT>
<script type="text/javascript">date_populate("date", "month", "year");</script>
<input name="F051birthdate" type="hidden" value="" id="F051birthdate"><font color="red">&nbsp;*</font>
</td>
</tr>

<tr id="GuarantorMessage" style="display:none">
<td colspan="2">Children and Young Adults (under 18) will need a parent or guardian as their guarantor. As a guarantor, you will need to show your personal ID and proof of address and sign the membership card. In signing as a guarantor you are accepting responsibility for any charges incurred on that card and your records may be linked.<p>
</td>
</tr>
<tr>
<td colspan="2" class="formTitle" align="center" border="1px">
Postal Address
</td>
</tr>
<tr>
<td class="formTitle" align="right">House No. and Street:</td>
<td><input name="full_aaddress" value="" size="40" maxlength="60" id="full_aaddress" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"><font color="red">*</font></td>
</tr>
<tr>
<td class="formTitle" align="right">Suburb:</td>
<td><input name="stre_aaddress" value="" size="20" maxlength="60" id="stre_aaddress"  style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>
<tr>
<td class="formTitle" align="right">City/Town:</td>
<td><input name="city_aaddress" value="" size="20" maxlength="60" id="city_aaddress"  style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"><font color="red">*</font></td>
</tr>
<tr>
<td class="formTitle" align="right">Postcode:</td>
<td><input name="post_aaddress" value="" size="5" maxlength="6" id="post_aaddress"  style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"><font color="red">*</font>&nbsp;&nbsp;<a href="http://www.nzpost.co.nz/tools/address-postcode-finder" target="_new">NZ Post Postcode Finder</a></td>
</tr>
<tr><td colspan="2">
Is your street address different from above? <input type="radio" name="streetyesno" id="streetyes" onclick="showstreetaddress();" ></input>Yes <input type="radio" name="streetyesno" id="streetno" onClick="hidestreetaddress();"></input>No
</td>
</tr>
<tr id="StreetAddressHeader" style="display:none">
<td colspan="2" class="formTitle" align="center">
Street Address
</td>
</tr>
<tr id="StreetAddressStreet" style="display:none">
<td class="formTitle" align="right">House No. and Street:</td>
<td><input name="full_haddress2" value="" size="40" maxlength="60" id="full_haddress2" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>
<tr id="StreetAddressSuburb" style="display:none">
<td class="formTitle" align="right">Suburb:</td>
<td><input name="stre_haddress2" value="" size="20" maxlength="60" id="stre_haddress2" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>
<tr id="StreetAddressCity" style="display:none">
<td class="formTitle" align="right">City:</td>
<td><input name="city_haddress2" value="" size="20" maxlength="60" id="city_haddress2" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>
<tr id="StreetAddressPostcode" style="display:none">
<td width="25%" class="formTitle" align="right">Postcode:</td>
<td><input name="post_haddress2" value="" size="5" maxlength="6" id="post_haddress2" style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)">&nbsp;&nbsp;<a href="http://www.nzpost.co.nz/tools/address-postcode-finder" target="_new">NZ Post Postcode Finder</a></td>
</tr>
<tr>
<td colspan="2" class="formTitle" align="center">
Contact Details
</td>
</tr>

<tr> 
<td class="formTitle" align="right">Telephone (Primary):</td>
<td><input name="tphone1" value="" size="20" maxlength="60" id="tphone1"  style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>
<td class="formTitle" align="right">Telephone (Secondary):</td>
<td><input name="pphone2" value="" size="20" maxlength="60" id="pphone2"  style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"></td>
</tr>

<tr> 
<td class="formTitle" align="right">Email:</td>
<td><input name="zemailaddr" value="" size="40" maxlength="60" id="zemailaddr"   style="border: 2px solid #CCCCCC" onfocus="makegreen(this.id)" onBlur="makewhite(this.id)"><br><span class="helpNote">Leave this blank if you do not wish to receive email from the library about overdue items and requests ready for pickup. Email is the fastest way to receive notices from the library. We will send you an email to confirm this address. If you do not wish to receive promotional email from the library, please mention this when you get your library card.</span></td>
</tr>



<tr>
<td colspan="2">
The following optional information will assist us to develop our collections and services:</td>
</tr>

<tr>
<td class="formTitle" align="right">Reading Language:</td>
<td style="font-size:90%;">
<select name="F046pcode3">
<option value="0" selected="selected">English</option>
<option value="1">Maori</option>
<option value="2">Afrikaans</option>
<option value="3">Arabic</option>
<option value="4">Cambodian</option>
<option value="5">Chinese</option>
<option value="6">Cook Island Maori</option>
<option value="7">Danish</option>
<option value="8">Dutch</option>
<option value="9">French</option>
<option value="10">German</option>
<option value="11">Hindi</option>
<option value="12">Italian</option>
<option value="13">Japanese</option>
<option value="14">Korean</option>
<option value="15">Malay</option>
<option value="16">Niuean</option>
<option value="17">Polish</option>
<option value="18">Russian</option>
<option value="19">Samoan</option>
<option value="20">Serbian</option>
<option value="21">Spanish</option>
<option value="22">Tagalog</option>
<option value="23">Tokelau</option>
<option value="24">Tongan</option>
<option value="25">Vietnamese</option>
<option value="26">Other</option>
<option value="27">Bengali</option>
<option value="28">Bulgarian</option>
<option value="29">Croatian</option>
<option value="30">Fijian</option>
<option value="31">Greek</option>
<option value="32">Indonesian</option>
<option value="33">Kurdish</option>
<option value="34">Lao</option>
<option value="35">Macedonian</option>
<option value="36">Persian</option>
<option value="37">Punjabi</option>
<option value="38">Rarotongan</option>
<option value="39">Sinhalese</option>
<option value="40">South American Indian</option>
<option value="41">Tamil</option>
<option value="42">Thai</option>
<option value="43">Urdu</option>
</select>
</td>
<tr>
<td class="formTitle" align="right">Ethnicity:</td>
<td>
<select name="F045pcode2">
<option value="z">Please Select ...</option>
<option value="e">NZ European</option>
<option value="m">Maori</option>
<option value="d">African</option>
<option value="r">Arab</option>
<option value="g">Australian</option>
<option value="b">Cambodian</option>
<option value="c">Chinese</option>
<option value="q">Cook Islander</option>
<option value="f">Fijian</option>
<option value="o">Filipino</option>
<option value="i">Indian</option>
<option value="j">Japanese</option>
<option value="k">Korean</option>
<option value="n">Niuean</option>
<option value="s">Samoan</option>
<option value="a">South African</option>
<option value="l">Tokelauan</option>
<option value="t">Tongan</option>
<option value="v">Vietnamese</option>
<option value="y">Other Asian</option>
<option value="w">Other Mideast</option>
<option value="u">Other European</option>
<option value="p">Other Pacific</option>
<option value="x">Other</option>

</select>

</td>
</tr>


<tr>
<td colspan="2" class="formTitle" style="font-weight:normal;">
<b>I agree to the following conditions:</b> 
<br />
<br />
<ul>
<li>I agree that the information that I have provided on this form is correct.</li>
<li>I agree to notify Auckland Libraries of any change to the above details.</li>
<li>I agree to notify the library immediately if my card is lost or stolen.</li>
<li>I accept responsibility for all items issued and charges incurred against this registration.</li>
<li>I have read and accept the <a href="#" onclick="return open_window('https://www.aucklandlibraries.govt.nz/Pages/membership-terms-and-conditions.aspx');">terms and conditions</a> of membership</li>
<li>I understand that the services of a debt collection agency may be used to recover outstanding debts and related costs.</li>
</ul>
<P>
<input TYPE="checkbox" NAME="agreement" id="ckagreement" VALUE="">&nbsp;I Agree</td>
</tr> 
</table>

<br/>
<input type="image" src="/screens/submit.gif" alt="Submit. " border="0" class="button" />
</form>


<!--End of main page content-->
</td>
</tr>
</table>
<!--End the main content table-->


<script type="text/javascript">

function selfRegChecker(){
var ValidNameChars = /^[a-zA-Z0-9'\-\s]+$/;
var numericExpression = /^[0-9]+$/;
var emailExp = /^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;

var message="Please fix the following<ul>";

var firstname=document.getElementById("nfirst").value;
var middlename=document.getElementById("nmiddle").value;
var lastname=document.getElementById("nlast").value;
var dayfield=document.getElementById("date").value;
var monthfield=document.getElementById("month").value;
var yearfield=document.getElementById("year").value;
//postal address
var full_aaddress=document.getElementById("full_aaddress").value;
var stre_aaddress=document.getElementById("stre_aaddress").value;
var city_aaddress=document.getElementById("city_aaddress").value;
var post_aaddress=document.getElementById("post_aaddress").value;
var streetyes=document.getElementById("streetyes").checked;
var streetno=document.getElementById("streetno").checked;
//street address
var full_haddress2=document.getElementById("full_haddress2").value;
var stre_haddress2=document.getElementById("stre_haddress2").value
var city_haddress2=document.getElementById("city_haddress2").value
var post_haddress2=document.getElementById("post_haddress2").value
//phone numbers
var tphone1=document.getElementById("tphone1").value
var pphone2=document.getElementById("pphone2").value
var zemailaddr=document.getElementById("zemailaddr").value
var ckagreement=document.getElementById("ckagreement").checked



var checkpassed=true
//name
if (firstname.length==0) {
message+="<li>The first name field must be filled in.</li>";
checkpassed=false;
}
if(firstname.length>0 & !firstname.match(ValidNameChars)){
message+="<li>The first name field contains invalid characters.</li>";
checkpassed=false;
}
if (firstname.length!=0) {
	if (firstname.replace(/^\s+|\s+$/g, '').length==0) {
		message+="<li>The first name field contains blank spaces.</li>";
		checkpassed=false;
	}
}
if(middlename.length!=0) {
if (!middlename.match(ValidNameChars)) { 
message+="<li>The middle name field contains invalid characters.</li>";
checkpassed=false;
}
}
if (lastname.length==0) {
message+="<li>The last name field must be filled in.</li>";
checkpassed=false;
}
if(lastname.length>0 & !lastname.match(ValidNameChars)){
message+="<li>The last name field contains invalid characters.</li>";
checkpassed=false;
}
if (lastname.length!=0) {
	if (lastname.replace(/^\s+|\s+$/g, '').length==0) {
		message+="<li>The last name field contains blank spaces.</li>";
		checkpassed=false;
	}
}
	//gender - no validation on gender
//birthdate
if (dayfield=="blank") {
message+="<li>Please select your birth day.</li>";
checkpassed=false;
}
if (monthfield=="blank") {
message+="<li>Please select your birth month.</li>";
checkpassed=false;
}
if (yearfield=="blank") {
message+="<li>Please select your birth year.</li>";
checkpassed=false;
}
if (dayfield!="blank" & monthfield!="blank" & yearfield!="blank") {
if (dayfield.length==1) {
dayfield="0"+dayfield;
}
var DateCombined=dayfield + "" + monthfield + "" + yearfield;
document.getElementById("F051birthdate").value=DateCombined;
}
//postal address
if (full_aaddress.length==0) {
message+="<li>The House No. and Street field must be filled in.</li>";
checkpassed=false;
}
/*if (stre_aaddress.length==0) {
message+="<li>The Suburb field must be filled in.</li>";
checkpassed=false;
}*/
if (city_aaddress.length==0) {
message+="<li>The City field must be filled in.</li>";
checkpassed=false;
}
if (post_aaddress.length==0) {
message+="<li>The Postcode field must be filled in.</li>";
checkpassed=false;
}
if(post_aaddress.length>0 & !post_aaddress.match(numericExpression)){
message+="<li>Your postcode must be numbers only.</li>";
checkpassed=false;
}
if (streetyes==false & streetno==false) {
message+="<li>Please select yes or no next to the question asking whether your street address is different from above.</li>";
checkpassed=false;
}
//street address
if (streetyes==true) {
if (full_haddress2.length==0) {
message+="<li>The street House No. and Street field must be filled in.</li>";
checkpassed=false;
}
if (city_haddress2.length==0) {
message+="<li>The street City/Town field must be filled in.</li>";
checkpassed=false;
}
if (post_haddress2.length==0) {
message+="<li>The street address postcode must be filled in.</li>";
checkpassed=false;
}
if(post_haddress2.length>0 & !post_haddress2.match(numericExpression)){
message+="<li>Your street address postcode must be numbers only.</li>";
checkpassed=false;
}
}
//contact details
if (tphone1.length==0 & pphone2.length>0) {
tphone1=pphone2;
document.getElementById("tphone1").value=pphone2;
document.getElementById("pphone2").value="";
pphone2="";
}
if(tphone1.length>0 & !tphone1.match(numericExpression)){
message+="<li>Your primary phone number must be numbers only. No spaces or hyphens.</li>";
checkpassed=false;
}
if(pphone2.length>0 & !pphone2.match(numericExpression)){
message+="<li>Your secondary phone number must be numbers only. No spaces or hyphens.</li>";
checkpassed=false;
}

if (zemailaddr.length>0 & !zemailaddr.match(emailExp)) {
message+="<li>Your email address should be in the format username@domain</li>";
checkpassed=false;
}
if (ckagreement==false) {
message+="<li>You must tick the box to say you agree to the registration conditions.</li>";
checkpassed=false;
}

if (checkpassed) {
return true;
}
else {
message+="</ul>";
document.getElementById("selfRegMessage").innerHTML =message;
self.scrollTo(0,0);
alert("There are issues with the form. Please review.");
return false;
}
}

//this function will turn names like O'Leary into O'leary etc. Turned off.
function toSentenceCase(word){
    var replacedWord = "";
    SpaceWordArray = word.split(' ');
    
for(var c=0; c < SpaceWordArray.length; c++) {
    replacedWord += SpaceWordArray[c].substring(0,1).toUpperCase() + SpaceWordArray[c].substring(1,SpaceWordArray[c].length).toLowerCase() + ' ';
    }
    return replacedWord;
}
</script>

<br />
<!-- begin botlogo.html file -->
<!--Begin the bottom logo table-->
<!--TIP: this data should match the data used by the BOTLOGO web option-->

<!--<table width="100%" cellpadding="2" cellspacing="2" summary="layout table" border="0" style="margin-top:10px;border:1px solid #688d01; background:url(/screens/homepage_bannerbg.jpg) no-repeat; background-color:#163e58">-->
<table style="width:100%; background-color:#163e58">
<tr height="100">
<!-- Old links, I think better not to show any
<td valign=top class="footerLinks" width=200>
<font color="#F2911C">&#187;&nbsp;</font><A title="Login to My Info" href="https://discover.elgar.govt.nz/iii/encore//Sdologin?lang=eng&loginReason=doDefault" style="color:#ffffff;">My Info</A><br>
<font color="#F2911C">&#187;&nbsp;</font><A title="Locations and Hours" href="#" onclick="return open_window('http://www.aucklandlibraries.govt.nz/EN/About/Pages/LocationsandHours.aspx');" style="color:#ffffff;">Locations & Hours</A><br>
<font color="#F2911C">&#187;&nbsp;</font><A title="Can't Find It?" href="/screens/cantfindit_s1.html" style="color:#ffffff;">Can't Find It?</A><br>
</td>
<td valign=top class="footerLinks">
<font color="#F2911C">&#187;&nbsp;</font><A title="Digital Library" href="#" onclick="return open_window('http://www.aucklandcitylibraries.com/DigitalLibrary.aspx');" style="color:#ffffff;">Digital Library</A><br>
<font color="#F2911C">&#187;&nbsp;</font><A title="eNewsletters" href="#" onclick="return open_window('http://www.aucklandlibraries.govt.nz/EN/New/NextReads/Pages/NextReads.aspx');" style="color:#ffffff;">NextReads eNewsletters</A><br>
<font color="#F2911C">&#187;&nbsp;</font><A title="Join the Library" href="/screens/jointhelibrary_s1.html" style="color:#ffffff;">Join the Library</A><br>
</td>
-->
</tr>
</table>

<span style="display:none">
<!--End the bottom logo table-->
<!-- end botlogo.html file -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4547748-2");
pageTracker._initData();
pageTracker._trackPageview();
</script>

</body>
</html>

